# 00 - Global Behavior Rules (Expanded)

هذا الملف هو مجموعة قواعد عامة يجب أن يلتزم بها الوكيل طوال دورة تطوير المشروع.
المرجع الأساسي: ملف "تطبيق إدارة مختبرات الأسنان.pdf" — جميع التفاصيل الوظيفية وحقول الواجهة يجب أن تتطابق مع محتوى PDF حرفياً.

## مبادئ عامة
- اقرأ ملف الـ PDF قبل أي تنفيذ وتعامَل معه كـ "Single Source of Truth".
- لا تغيّر أو تحذف أي حقل مذكور في PDF إلا بعد موافقة المستخدم الصريحة (يجب تسجيل القرار في `.agent/notes.md`).
- جميع أسماء الملفات، الـ identifiers، ومسارات الأكواد يجب أن تكون باللغة الإنجليزية (camelCase / kebab-case للمجلدات).
- جميع النصوص الظاهرة للمستخدم بالعربية (UTF-8) والواجهة كاملة RTL (`dir="rtl"`).
- لا تخلق أي ملف توثيق أو تعليمات تشغيل خارج `.agent/`.
- إذا احتجت لحفظ ملاحظات، استخدم `.agent/notes.md` فقط.
- كل تغيّر معماري أو قرار غير صريح في الـ PDF يوثّق في `.agent/notes.md` مع توصيف الأسباب والبدائل.
- لا تستخدم مكتبات UI خارج TailwindCSS. لا تستخدم ORM؛ استخدم better-sqlite3 فقط.

## نمط الالتزام مع المخرجات
- كل مرحلة تطويرية يجب أن تنتهي بملف diff/PR (ملف مضغوط أو commit) وتقرير صغير داخل `.agent/notes.md`.
- عند تنفيذ أي مهمة CRUD، يجب أن يتوفر زوج من الاختبارات: unit test (vitest/jest) وintegration smoke test.
- لا تبدأ مرحلة الواجهة (front-end) قبل أن تُفعّل IPC وpreload وتكون قنوات الـ API جاهزة للاستهلاك.

## قواعد السلوك في بيئة التشغيل
- Agent يجب أن يطلب إذن المستخدم قبل التعليمات التي تؤثر على إعدادات النظام (مثلاً كتابة في AppData).
- Agent يجب أن يتوقف وينتظر موافقة قبل أي خطوة من PHASE boundaries — المستخدم يجيب بصيغة "تابع" للانتقال.
- جميع الملفات الحساسة تُخزَّن في AppData/ أو مجلدات خاصة ضمن system paths وليس في المستودع العام.
